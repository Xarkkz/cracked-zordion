local a;local b=game.Players.LocalPlayer;IYMouse=b:GetMouse()IYMouse.KeyDown:connect(function(c)if c=="x"then if a then a=false;fly()else a=true;NOFLY()end end end)for d,e in pairs(game.Players.LocalPlayer.Character:GetDescendants())do if e:IsA("BasePart")and e.CanCollide==true then e.CanCollide=false end end;FLYING=false;QEfly=true;iyflyspeed=3;vehicleflyspeed=3;function sFLY(f)repeat wait()until game.Players.LocalPlayer and game.Players.LocalPlayer.Character and game.Players.LocalPlayer.Character:FindFirstChild('Humanoid')repeat wait()until IYMouse;local g=game.Players.LocalPlayer.Character.LowerTorso;local h={F=0,B=0,L=0,R=0,Q=0,E=0}local i={F=0,B=0,L=0,R=0,Q=0,E=0}local j=5;local function k()FLYING=true;local l=Instance.new('BodyGyro',g)local m=Instance.new('BodyVelocity',g)l.P=9e4;l.maxTorque=Vector3.new(9e9,9e9,9e9)l.cframe=g.CFrame;m.velocity=Vector3.new(0,0,0)m.maxForce=Vector3.new(9e9,9e9,9e9)spawn(function()repeat wait()if not f and game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid')then game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand=true end;if h.L+h.R~=0 or h.F+h.B~=0 or h.Q+h.E~=0 then j=50 elseif not(h.L+h.R~=0 or h.F+h.B~=0 or h.Q+h.E~=0)and j~=0 then j=0 end;if h.L+h.R~=0 or h.F+h.B~=0 or h.Q+h.E~=0 then m.velocity=(workspace.CurrentCamera.CoordinateFrame.lookVector*(h.F+h.B)+workspace.CurrentCamera.CoordinateFrame*CFrame.new(h.L+h.R,(h.F+h.B+h.Q+h.E)*0.2,0).p-workspace.CurrentCamera.CoordinateFrame.p)*j;i={F=h.F,B=h.B,L=h.L,R=h.R}elseif h.L+h.R==0 and h.F+h.B==0 and h.Q+h.E==0 and j~=0 then m.velocity=(workspace.CurrentCamera.CoordinateFrame.lookVector*(i.F+i.B)+workspace.CurrentCamera.CoordinateFrame*CFrame.new(i.L+i.R,(i.F+i.B+h.Q+h.E)*0.2,0).p-workspace.CurrentCamera.CoordinateFrame.p)*j else m.velocity=Vector3.new(0,0,0)end;l.cframe=workspace.CurrentCamera.CoordinateFrame until not FLYING;h={F=0,B=0,L=0,R=0,Q=0,E=0}i={F=0,B=0,L=0,R=0,Q=0,E=0}j=0;l:destroy()m:destroy()if game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid')then game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand=false end end)end;IYMouse.KeyDown:connect(function(n)if n:lower()=='w'then if f then h.F=vehicleflyspeed else h.F=iyflyspeed end elseif n:lower()=='s'then if f then h.B=-vehicleflyspeed else h.B=-iyflyspeed end elseif n:lower()=='a'then if f then h.L=-vehicleflyspeed else h.L=-iyflyspeed end elseif n:lower()=='d'then if f then h.R=vehicleflyspeed else h.R=iyflyspeed end elseif QEfly and n:lower()=='e'then if f then h.Q=vehicleflyspeed*2 else h.Q=iyflyspeed*2 end elseif QEfly and n:lower()=='q'then if f then h.E=-vehicleflyspeed*2 else h.E=-iyflyspeed*2 end end end)IYMouse.KeyUp:connect(function(n)if n:lower()=='w'then h.F=0 elseif n:lower()=='s'then h.B=0 elseif n:lower()=='a'then h.L=0 elseif n:lower()=='d'then h.R=0 elseif n:lower()=='e'then h.Q=0 elseif n:lower()=='q'then h.E=0 end end)k()end;function NOFLY()FLYING=false;game.Players.LocalPlayer.Character:FindFirstChildOfClass('Humanoid').PlatformStand=false end;function fly()NOFLY()wait()sFLY()end
